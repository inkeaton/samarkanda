#!/bin/sh

# add more args here according to preference
ARGS="--volume=60 --video=no --loop"


notification(){
# change the icon to whatever you want. Make sure your notification server 
# supports it and already configured.

# Now it will receive argument so the user can rename the radio title
# to whatever they want

	notify-send "In Onda: " "$@" --icon=media-tape
}

menu(){
	printf "1. Lofi Girl ğŸ“ğŸ§\n"
	printf "2. Synthwave Boy ğŸ–¥ï¸ğŸ•¹ï¸\n"
	printf "3. Nippon Smooth ğŸ—»ğŸº\n"
	printf "4. CafÃ¨ Le Blanc ğŸ—¡ï¸ğŸ‘º\n"
	printf "5. Underground Tunes ğŸğŸŒ¼\n"
	printf "6. Zelda & Chill ğŸ—¡ï¸ğŸ§š\n"
	printf "7. Game Night ğŸ®ğŸŒƒ\n"
	printf "8. RTL 102.5 ğŸ“»ğŸ¸\n"
}

main() {
	choice=$(menu | rofi -dmenu -i -sync -p "Riproduci..."| cut -d. -f1)

	case $choice in
		1)
			notification "Lofi Girl ğŸ“ğŸ§";
            URL="https://www.youtube.com/live/jfKfPfyJRdk?feature=share"
			break
			;;
		
		2)
			notification "Synthwave Boy ğŸ–¥ï¸ğŸ•¹ï¸";
            URL="https://www.youtube.com/live/MVPTGNGiI-4?feature=share"
			break
			;;
		
		3)
			notification "Nippon Smooth ğŸ—»ğŸº";
            URL="https://youtu.be/BIZz4A39rT4"
			break
			;;
		
		4)
			notification "CafÃ¨ Le Blanc ğŸ”ªğŸ‘º";
            URL="https://youtu.be/MF8RFD7tk48"
			break
			;;
		
		5)
			notification "Underground Tunes ğŸğŸŒ¼";
            URL="https://youtu.be/A7vMrjsBMTI"
			break
			;;
		
		6)
			notification "Zelda & Chill ğŸ—¡ï¸ğŸ§š";
            URL="https://youtu.be/oCaOSz13h_o"
			break
			;;
		
		7)
			notification "Game Night ğŸ®ğŸŒƒ";
            URL="https://youtu.be/JJis0sld2cM"
			break
			;;

		8)
			notification "RTL 102.5 ğŸ“»ğŸ¸";
            URL="http://shoutcast.rtl.it:3010/"
			break
			;;


			
		
	esac
    # run mpv with args and selected url
    # added title arg to make sure the pkill command kills only this instance of mpv
    mpv $ARGS $ADDARGS --title="radio-mpv" $URL
}


(pkill -f radio-mpv && notify-send "Riproduzione Interrotta" --icon=media-tape) || main
